{"ast":null,"code":"import \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _slicedToArray from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\endurance-sample\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\endurance-sample\\\\srabonti-sample-ui\\\\src\\\\components\\\\public\\\\login\\\\LoginPage.js\";\n\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { withCookies } from \"react-cookie\";\nimport { useIntl } from 'react-intl';\nimport useApi from '../../../hooks/useApi';\nimport * as PortalConstants from \"../../../utility/constants\";\nimport * as gfunctions from \"../../../utility/generalFunctions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authenticateAndFetchUserInfo } from '../../../actions/authenticationActions';\nimport './LoginPage.less';\n\nvar LoginPage = function LoginPage(props) {\n  var intl = useIntl();\n  var userInfo = useSelector(function (state) {\n    return state.userInfo;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasLoginError = _useState2[0],\n      setHasLoginError = _useState2[1];\n\n  var _useApi = useApi(\"login\", null, PortalConstants.APIMETHODS.POST),\n      _useApi2 = _slicedToArray(_useApi, 2),\n      authenticateResponse = _useApi2[0],\n      authenticateRequest = _useApi2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var dispatch = useDispatch();\n\n  var showDashBoard = function showDashBoard(userInfo) {\n    gfunctions.setAuthenticationTokens(userInfo, props.cookies);\n    var authToken = props.cookies.get(PortalConstants.AUTH_TOKEN);\n\n    if (authToken !== undefined && authToken.length > 1) {\n      props.history.push({\n        pathname: '/home/petlist',\n        state: {\n          userInfo: userInfo\n        }\n      });\n    }\n  };\n\n  useEffect;\n  useEffect(function () {\n    setLoading(false);\n\n    if (authenticateResponse.data && !authenticateResponse.error && !authenticateResponse.isLoading) {\n      showDashBoard(authenticateResponse.data[0]);\n    } else if (authenticateResponse.error && !authenticateResponse.data && !authenticateResponse.isLoading) {\n      setHasLoginError(true);\n    }\n  }, [authenticateResponse]);\n\n  var handleSubmit = function handleSubmit(values) {\n    var request = {};\n    request.userName = values.username;\n    request.password = values.password;\n    setHasLoginError(false);\n    setLoading(true);\n    dispatch(authenticateAndFetchUserInfo(request)); //authenticateRequest(request, PortalConstants.APIMETHODS.POST); \n  };\n\n  var onFinishFailed = function onFinishFailed(_ref) {\n    var errorFields = _ref.errorFields;\n    form.scrollToField(errorFields[0].name);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Row, {\n    type: \"flex\",\n    style: {\n      minHeight: 750\n    },\n    justify: \"center\",\n    align: \"middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    xs: 24,\n    sm: 20,\n    md: 16,\n    lg: 12,\n    xl: 8,\n    align: \"middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Spin, {\n    size: \"large\",\n    spinning: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Card, {\n    bordered: false,\n    className: \"loginContainer\",\n    style: {\n      top: \"50%\",\n      minHeight: \"440px\",\n      height: \"auto\",\n      padding: \"10px 20px 0px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      fontSize: \"24px\",\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"To continue, please sign in below\"), /*#__PURE__*/React.createElement(_Form, {\n    layout: \"vertical\",\n    className: \"login-form\",\n    form: form,\n    onFinish: handleSubmit,\n    onFinishFailed: onFinishFailed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, \"Doggo Care Manager\"), /*#__PURE__*/React.createElement(_Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    label: \"Username\",\n    name: \"username\",\n    rules: [{\n      required: true,\n      message: 'Please enter your username!'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    size: \"large\",\n    type: \"text\",\n    maxLength: 50,\n    placeholder: \"Username\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(_Row, {\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    style: {\n      marginBottom: \"0px\"\n    },\n    name: \"password\",\n    label: \"Password\",\n    rules: [{\n      required: true,\n      message: \"Password is required.\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(_Input.Password, {\n    size: \"large\",\n    type: \"text\",\n    maxLength: 50,\n    placeholder: \"Password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      fontSize: \"14px\",\n      display: \"flex\",\n      color: \"red\",\n      height: \"30px\",\n      marginTop: \"5px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, hasLoginError && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"12px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \"Your Login ID or Password was incorrect\"))), /*#__PURE__*/React.createElement(_Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    size: \"large\",\n    style: {\n      width: \"100%\",\n      marginTop: \"0px\"\n    },\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 23\n    }\n  }, \"Log In\"))))))))));\n};\n\nexport default withCookies(LoginPage);","map":{"version":3,"sources":["C:/Users/PIONEER/Documents/projects/endurance-sample/srabonti-sample-ui/src/components/public/login/LoginPage.js"],"names":["React","useEffect","useState","withCookies","useIntl","useApi","PortalConstants","gfunctions","useDispatch","useSelector","authenticateAndFetchUserInfo","LoginPage","props","intl","userInfo","state","hasLoginError","setHasLoginError","APIMETHODS","POST","authenticateResponse","authenticateRequest","loading","setLoading","useForm","form","dispatch","showDashBoard","setAuthenticationTokens","cookies","authToken","get","AUTH_TOKEN","undefined","length","history","push","pathname","data","error","isLoading","handleSubmit","values","request","userName","username","password","onFinishFailed","errorFields","scrollToField","name","minHeight","top","height","padding","fontSize","textAlign","required","message","marginTop","marginBottom","display","color","width"],"mappings":";;;;;;;;;;;;;;;;;;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,OAAT,QAAwB,YAAxB;AAEA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAO,KAAKC,eAAZ,MAAiC,4BAAjC;AACA,OAAO,KAAKC,UAAZ,MAA4B,mCAA5B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAAQC,4BAAR,QAA2C,wCAA3C;AACA,OAAO,kBAAP;;AAEA,IAAMC,SAAS,GAAE,SAAXA,SAAW,CAACC,KAAD,EAAU;AAEzB,MAAMC,IAAI,GAAGT,OAAO,EAApB;AACA,MAAMU,QAAQ,GAAGL,WAAW,CAAC,UAAAM,KAAK;AAAA,WAAEA,KAAK,CAACD,QAAR;AAAA,GAAN,CAA5B;;AAHyB,kBAImBZ,QAAQ,CAAC,KAAD,CAJ3B;AAAA;AAAA,MAIjBc,aAJiB;AAAA,MAIFC,gBAJE;;AAAA,gBAK6BZ,MAAM,CAAC,OAAD,EAAU,IAAV,EAAeC,eAAe,CAACY,UAAhB,CAA2BC,IAA1C,CALnC;AAAA;AAAA,MAKhBC,oBALgB;AAAA,MAKMC,mBALN;;AAAA,mBAMMnB,QAAQ,CAAC,KAAD,CANd;AAAA;AAAA,MAMjBoB,OANiB;AAAA,MAMRC,UANQ;;AAAA,sBAOV,MAAKC,OAAL,EAPU;AAAA;AAAA,MAOjBC,IAPiB;;AAQxB,MAAOC,QAAQ,GAAClB,WAAW,EAA3B;;AAED,MAAMmB,aAAa,GAAG,SAAhBA,aAAgB,CAACb,QAAD,EAAc;AAClCP,IAAAA,UAAU,CAACqB,uBAAX,CAAmCd,QAAnC,EAA6CF,KAAK,CAACiB,OAAnD;AACA,QAAIC,SAAS,GAAIlB,KAAK,CAACiB,OAAN,CAAcE,GAAd,CAAkBzB,eAAe,CAAC0B,UAAlC,CAAjB;;AACA,QAAIF,SAAS,KAAKG,SAAd,IAA2BH,SAAS,CAACI,MAAV,GAAmB,CAAlD,EAAqD;AAEnDtB,MAAAA,KAAK,CAACuB,OAAN,CAAcC,IAAd,CAAmB;AACbC,QAAAA,QAAQ,EAAE,eADG;AAEbtB,QAAAA,KAAK,EAAE;AAAED,UAAAA,QAAQ,EAAEA;AAAZ;AAFM,OAAnB;AAID;AACF,GAVD;;AAYAb,EAAAA,SAAS;AAETA,EAAAA,SAAS,CAAC,YAAM;AACdsB,IAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,QAAGH,oBAAoB,CAACkB,IAArB,IAA6B,CAAClB,oBAAoB,CAACmB,KAAnD,IAA4D,CAACnB,oBAAoB,CAACoB,SAArF,EAA+F;AAC7Fb,MAAAA,aAAa,CAACP,oBAAoB,CAACkB,IAArB,CAA0B,CAA1B,CAAD,CAAb;AACD,KAFD,MAGK,IAAGlB,oBAAoB,CAACmB,KAArB,IAA8B,CAACnB,oBAAoB,CAACkB,IAApD,IAA4D,CAAClB,oBAAoB,CAACoB,SAArF,EAA+F;AAClGvB,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,GARQ,EAQN,CAACG,oBAAD,CARM,CAAT;;AAUA,MAAMqB,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD,EAAY;AAC/B,QAAIC,OAAO,GAAC,EAAZ;AACAA,IAAAA,OAAO,CAACC,QAAR,GAAiBF,MAAM,CAACG,QAAxB;AACAF,IAAAA,OAAO,CAACG,QAAR,GAAmBJ,MAAM,CAACI,QAA1B;AACA7B,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAM,IAAAA,UAAU,CAAC,IAAD,CAAV;AAEAG,IAAAA,QAAQ,CAAChB,4BAA4B,CAACiC,OAAD,CAA7B,CAAR,CAP+B,CAQ/B;AACD,GATD;;AAUA,MAAMI,cAAc,GAAG,SAAjBA,cAAiB,OAAqB;AAAA,QAAlBC,WAAkB,QAAlBA,WAAkB;AAC1CvB,IAAAA,IAAI,CAACwB,aAAL,CAAmBD,WAAW,CAAC,CAAD,CAAX,CAAeE,IAAlC;AACH,GAFC;;AAIA,sBACE,uDACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAFT;AAGE,IAAA,OAAO,EAAC,QAHV;AAIE,IAAA,KAAK,EAAC,QAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,EAAE,EAAE,EAAzB;AAA6B,IAAA,EAAE,EAAE,EAAjC;AAAqC,IAAA,EAAE,EAAE,CAAzC;AAA4C,IAAA,KAAK,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,QAAQ,EAAE7B,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,QAAQ,EAAE,KADZ;AAEE,IAAA,SAAS,EAAC,gBAFZ;AAGE,IAAA,KAAK,EAAE;AACL8B,MAAAA,GAAG,EAAE,KADA;AAELD,MAAAA,SAAS,EAAE,OAFN;AAGLE,MAAAA,MAAM,EAAE,MAHH;AAILC,MAAAA,OAAO,EAAE;AAJJ,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUE;AAAI,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE,MAAZ;AAAoBC,MAAAA,SAAS,EAAE;AAA/B,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAVF,eAaE;AAAM,IAAA,MAAM,EAAC,UAAb;AAAwB,IAAA,SAAS,EAAC,YAAlC;AAA+C,IAAA,IAAI,EAAE/B,IAArD;AACE,IAAA,QAAQ,EAAEgB,YADZ;AAC0B,IAAA,cAAc,EAAEM,cAD1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAI,IAAA,KAAK,EAAE;AAAES,MAAAA,SAAS,EAAE;AAAb,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,0BAAM,IAAN;AACI,IAAA,KAAK,EAAC,UADV;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAE,CACL;AACEC,MAAAA,QAAQ,EAAE,IADZ;AAEEC,MAAAA,OAAO,EAAE;AAFX,KADK,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUI;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,IAAI,EAAC,MAAzB;AAAkC,IAAA,SAAS,EAAE,EAA7C;AAAiD,IAAA,WAAW,EAAC,UAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CADJ,CADF,CAPJ,eAuBI;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,0BAAM,IAAN;AAAW,IAAA,KAAK,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAAlB;AAA4C,IAAA,IAAI,EAAC,UAAjD;AAA4D,IAAA,KAAK,EAAC,UAAlE;AACQ,IAAA,KAAK,EACD,CAAC;AACGH,MAAAA,QAAQ,EAAE,IADb;AAGGC,MAAAA,OAAO,EAAE;AAHZ,KAAD,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUQ,2BAAO,QAAP;AAAgB,IAAA,IAAI,EAAC,OAArB;AAA8B,IAAA,IAAI,EAAC,MAAnC;AAA0C,IAAA,SAAS,EAAE,EAArD;AAAyD,IAAA,WAAW,EAAC,UAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVR,CADA,CADF,CAvBJ,eAyCE,uDACE;AACE,IAAA,KAAK,EAAE;AACLH,MAAAA,QAAQ,EAAE,MADL;AAELM,MAAAA,OAAO,EAAE,MAFJ;AAGLC,MAAAA,KAAK,EAAE,KAHF;AAILT,MAAAA,MAAM,EAAE,MAJH;AAKLM,MAAAA,SAAS,EAAE;AALN,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG3C,aAAa,iBAEV;AAAK,IAAA,KAAK,EAAE;AAAE2C,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAXN,CADF,CAzCF,eA4DE,0BAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,KAAK,EAAE;AACLI,MAAAA,KAAK,EAAE,MADF;AAELJ,MAAAA,SAAS,EACP;AAHG,KAFT;AAOE,IAAA,IAAI,EAAC,SAPP;AAQE,IAAA,QAAQ,EAAC,QARX;AASE,IAAA,SAAS,EAAC,mBATZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,CADF,CA5DF,CAbF,CADF,CADF,CANF,CADF,CADF;AA+GD,CA/JD;;AAiKA,eAAexD,WAAW,CAACQ,SAAD,CAA1B","sourcesContent":[" \nimport * as React from 'react';\nimport { useEffect, useState } from 'react';  \nimport { withCookies } from \"react-cookie\"; \nimport { useIntl } from 'react-intl';  \nimport { Card, Button, Input, Row, Col, Spin, Form } from \"antd\";\nimport useApi from '../../../hooks/useApi'; \nimport * as PortalConstants from \"../../../utility/constants\";\nimport * as gfunctions from \"../../../utility/generalFunctions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {authenticateAndFetchUserInfo} from '../../../actions/authenticationActions';\nimport './LoginPage.less';\n  \nconst LoginPage =(props)=> {\n\n  const intl = useIntl(); \n  const userInfo = useSelector(state=>state.userInfo);\n   const [hasLoginError, setHasLoginError]  = useState(false);\n   const  [authenticateResponse, authenticateRequest] = useApi(\"login\", null,PortalConstants.APIMETHODS.POST);\n   const [loading, setLoading] = useState(false);\n   const [form] =Form.useForm(); \n   const  dispatch=useDispatch();\n\n  const showDashBoard = (userInfo) => {\n    gfunctions.setAuthenticationTokens(userInfo, props.cookies);\n    let authToken =  props.cookies.get(PortalConstants.AUTH_TOKEN);\n    if (authToken !== undefined && authToken.length > 1) {\n\n      props.history.push({\n            pathname: '/home/petlist',\n            state: { userInfo: userInfo }\n        });\n    }\n  }\n \n  useEffect\n\n  useEffect(() => {\n    setLoading(false);\n    if(authenticateResponse.data && !authenticateResponse.error && !authenticateResponse.isLoading){\n      showDashBoard(authenticateResponse.data[0]); \n    }\n    else if(authenticateResponse.error && !authenticateResponse.data && !authenticateResponse.isLoading){\n      setHasLoginError(true);\n    }\n  }, [authenticateResponse]);\n \n  const handleSubmit = (values) => {\n    let request={};\n    request.userName=values.username;\n    request.password = values.password;\n    setHasLoginError(false);\n    setLoading(true);\n\n    dispatch(authenticateAndFetchUserInfo(request));\n    //authenticateRequest(request, PortalConstants.APIMETHODS.POST); \n  };\n  const onFinishFailed = ({ errorFields }) => {\n    form.scrollToField(errorFields[0].name);\n};\n\n  return ( \n    <>\n      <Row\n        type=\"flex\"\n        style={{ minHeight: 750 }}\n        justify=\"center\"\n        align=\"middle\" >\n         \n        <Col xs={24} sm={20} md={16} lg={12} xl={8} align=\"middle\">\n          <Spin  size=\"large\" spinning={loading} >\n            <Card\n              bordered={false}\n              className=\"loginContainer\"\n              style={{\n                top: \"50%\",\n                minHeight: \"440px\",\n                height: \"auto\",\n                padding: \"10px 20px 0px\"\n              }}\n            >\n              <h5 style={{ fontSize: \"24px\", textAlign: \"center\" }}>\n                 To continue, please sign in below\n              </h5>\n              <Form layout=\"vertical\" className=\"login-form\" form={form}  \n                onFinish={handleSubmit} onFinishFailed={onFinishFailed} >\n              \n                  <h1 style={{ textAlign: \"center\" }}>\n                      Doggo Care Manager\n                  </h1> \n \n                  <Row>\n                    <Col span={24}>\n                        <Form.Item\n                            label=\"Username\"\n                            name=\"username\"\n                            rules={[\n                              {\n                                required: true,\n                                message: 'Please enter your username!',\n                              },\n                            ]}\n                          >\n                            <Input size=\"large\" type=\"text\"   maxLength={50} placeholder=\"Username\"/>\n            </Form.Item>\n</Col></Row> \n                   \n                  <Row style={{ marginTop: \"10px\" }}>\n                    <Col span={24}>\n                    <Form.Item style={{ marginBottom: \"0px\" }}  name=\"password\" label=\"Password\"\n                            rules={\n                                [{\n                                    required: true,\n                                  \n                                    message: \"Password is required.\"\n                                }\n                                ]\n                            }\n                        >\n                            <Input.Password size=\"large\"  type=\"text\" maxLength={50} placeholder=\"Password\" /> \n                        </Form.Item> \n                    </Col>\n                  </Row> \n                 \n                \n                <>\n                  <h6\n                    style={{\n                      fontSize: \"14px\",\n                      display: \"flex\",\n                      color: \"red\",\n                      height: \"30px\",\n                      marginTop: \"5px\"\n                    }}\n                  >\n                    {hasLoginError &&\n                      (\n                        <div style={{ marginTop: \"12px\" }}>\n                          Your Login ID or Password was incorrect\n                            \n                        </div>\n                      )}\n                  </h6>\n                </>\n                <Form.Item>\n                  <Row>\n                    <Col span={24}>\n                      <Button\n                        size=\"large\"\n                        style={{\n                          width: \"100%\",\n                          marginTop:\n                            \"0px\"\n                        }}\n                        type=\"primary\"\n                        htmlType=\"submit\"\n                        className=\"login-form-button\"\n                      >\n                        Log In\n                      </Button>\n                    </Col>\n                  </Row>\n                </Form.Item>\n                \n              </Form>\n              \n            </Card>\n          </Spin>\n        </Col> \n      </Row>\n   </>    \n  );\n} \n\nexport default withCookies(LoginPage);\n"]},"metadata":{},"sourceType":"module"}