(this["webpackJsonpsrabonti-sample-ui"]=this["webpackJsonpsrabonti-sample-ui"]||[]).push([[0],{351:function(e,t,a){e.exports=a(771)},559:function(e,t,a){},629:function(e,t,a){},738:function(e,t,a){},748:function(e,t,a){},759:function(e){e.exports=JSON.parse("{}")},760:function(e,t,a){},771:function(e,t,a){"use strict";a.r(t);a(352);var n=a(0),r=a.n(n),o=a(4),l=a.n(o),c=(a(118),a(49)),s=a(183),i=a(184),u=a(197),m=a(195),d=(a(559),a(30)),p=(a(181),a(88)),E=(a(142),a(28)),g=(a(168),a(26)),h=(a(170),a(15)),f=(a(298),a(76)),b=(a(299),a(36)),O=a(10),j=a(50),v=a(74),y=a.n(v),x=a(126),I=a(113),S={url:"https://sample-srabonti.herokuapp.com/"};var k=a(83),T="GET",w="POST",C="PUT";a(230);var F=function(e,t,a){switch(e){case 404:case 500:case 400:default:return Object(I.a)(Object(I.a)({},a),{},{data:null,error:t?t.responseStatus:{errorMessage:[{key:"generic.error",message:"We are having some technical difficulties please try again later."}],httpStatusCode:500,statusDesc:"ServerFailure"},hasError:!0,isLoading:!1})}},A=function(e,t){switch(t.type){case"FETCH_INIT":return Object(I.a)(Object(I.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":var a=[],n=!1;return Object(k.isNullOrUndefined)(t.payload.result.responseData)||(a=t.payload.result.responseData,n=!0),200===t.payload.status?Object(I.a)(Object(I.a)({},e),{},{data:n?a:t.payload.result,error:null,hasError:!1,isLoading:!1,success:!0}):F(t.payload.status,t.payload.result,e);case"FETCH_FAILURE":return F(t.payload.status,t.payload.result);default:return null}};var N=function(e,t,a){var r=Object(j.b)(),o=function(e,t,a){var n={method:e,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a}};return Object(k.isNullOrUndefined)(t)||(n.body=JSON.stringify(t)),n}(a,t,Object(O.a)(r,1)[0]["auth-token"]),l=Object(n.useState)(S.url+e),c=Object(O.a)(l,1)[0],s=Object(n.useReducer)(A,{isLoading:null,hasError:!1,errorMessage:"",data:null,request:t}),i=Object(O.a)(s,2),u=i[0],m=i[1];return[u,Object(n.useCallback)(function(){var e=Object(x.a)(y.a.mark((function e(t,a,n){var r,l,s,i,u,d;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c,n&&(r=S.url+n),l=!1,t&&(o.body=JSON.stringify(t)),o.method=a,m({type:"FETCH_INIT"}),s=new Request(r,o),e.prev=7,e.next=10,fetch(s);case 10:return i=e.sent,u=i.status,e.next=14,i.json();case 14:d=e.sent,l||m({type:"FETCH_SUCCESS",payload:{result:d,status:u}}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),l||m({type:"FETCH_FAILURE",payload:e.t0});case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t,a,n){return e.apply(this,arguments)}}(),[c,u.request])]},L=(a(301),a(196));a(571),a(774),a(572);function D(e,t,a){e.set(t,a,{path:"/"})}function U(e,t){e.remove(t)}var q=a(69);a(230);function M(e){return{type:"AUTHENTICATE_SUCCESS",userInfo:e}}function H(e){return{type:"AUTHENTICATE_FAILURE",userFailure:e}}function _(e){var t={userName:e.userName,password:e.password},a="".concat(S.url,"login/"),n=function(e,t){return{method:e.method,headers:{Accept:"application/json","Content-Type":"application/json","Client-Name":e.clientName},body:JSON.stringify(t)}}({method:"POST"},t);return z(a,n,e.clientName)}a(230);var P=function(e,t){var a=new Request(e,t);return fetch(a).then((function(e){return e.json().then((function(e){return{result:e}}))})).catch((function(e){return{error:e}}))},z=function(e,t,a){return function(){var a=Object(x.a)(y.a.mark((function a(n){var r,o,l;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=void 0,a.prev=1,a.next=4,P(e,t);case 4:void 0===(o=a.sent).errorMessage?(l=o.result,r=l.responseStatus&&l.responseData&&l.responseData.length>0&&l.responseData[0]?l.responseData[0]:l,n(M(r))):n(H(o.result)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n(H(a.t0));case 11:return a.abrupt("return",Promise.resolve(r));case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},B=(a(629),Object(j.c)((function(e){var t=Object(q.c)((function(e){return e.authentication.userInfo})),a=Object(n.useState)(!1),r=Object(O.a)(a,2),o=r[0],l=r[1],s=N("login",null,w),i=Object(O.a)(s,2),u=(i[0],i[1],Object(n.useState)(!1)),m=Object(O.a)(u,2),d=m[0],j=m[1],v=b.a.useForm(),y=Object(O.a)(v,1)[0],x=Object(q.b)(),I=function(t){!function(e,t){void 0!==e&&("BAD REQUEST"!==e.status&&500!==e.status||(e.errorMessage="API level error"),"BAD REQUEST"===e.status||void 0!==e.errorMessage||500===e.status?(D(t,"invalid-credentials",!0),U(t,"auth-token")):e.token&&(D(t,"auth-token",e.token.accessToken),U(t,"invalid-credentials")))}(t,e.cookies);var a=e.cookies.get("auth-token");void 0!==a&&a.length>1&&e.history.push({pathname:"/home/petlist",state:{userInfo:t}})};Object(n.useEffect)((function(){t&&void 0!==t&&(void 0!==t.responseStatus&&"200"!==t.responseStatus.httpStatusCode?l(!0):I(t),j(!1))}),t);return n.createElement(n.Fragment,null,n.createElement(g.a,{type:"flex",style:{minHeight:750},justify:"center",align:"middle"},n.createElement(h.a,{xs:24,sm:20,md:16,lg:12,xl:8,align:"middle"},n.createElement(c.a,{size:"large",spinning:d},n.createElement(p.a,{bordered:!1,className:"loginContainer",style:{top:"50%",minHeight:"440px",height:"auto",padding:"10px 20px 0px"}},n.createElement("h5",{style:{fontSize:"24px",textAlign:"center"}},"To continue, please sign in below"),n.createElement(b.a,{layout:"vertical",className:"login-form",form:y,onFinish:function(e){var t={};t.userName=e.username,t.password=e.password,l(!1),j(!0),x(_(t))},onFinishFailed:function(e){var t=e.errorFields;y.scrollToField(t[0].name)}},n.createElement("h1",{style:{textAlign:"center"}},"Doggo Care Manager"),n.createElement(g.a,null,n.createElement(h.a,{span:24},n.createElement(b.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please enter your username!"}]},n.createElement(f.a,{size:"large",type:"text",maxLength:50,placeholder:"Username"})))),n.createElement(g.a,{style:{marginTop:"10px"}},n.createElement(h.a,{span:24},n.createElement(b.a.Item,{style:{marginBottom:"0px"},name:"password",label:"Password",rules:[{required:!0,message:"Password is required."}]},n.createElement(f.a.Password,{size:"large",type:"text",maxLength:50,placeholder:"Password"})))),n.createElement(n.Fragment,null,n.createElement("h6",{style:{fontSize:"14px",display:"flex",color:"red",height:"30px",marginTop:"5px"}},o&&n.createElement("div",{style:{marginTop:"12px"}},"Your Login ID or Password was incorrect"))),n.createElement(b.a.Item,null,n.createElement(g.a,null,n.createElement(h.a,{span:24},n.createElement(E.a,{size:"large",style:{width:"100%",marginTop:"0px"},type:"primary",htmlType:"submit",className:"login-form-button"},"Log In"))))))))))}))),R=function(e){return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:B}),r.a.createElement(d.b,{path:"/petmanager/login",component:B}))},W=a(347);var J=function(e){var t=e.component,a=Object(W.a)(e,["component"]);return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return!Object(k.isNullOrUndefined)(a.props.authToken)&&"undefined"!==a.props.authToken&&a.props.authToken.length>1||"home"===a.props.computedMatch.path?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/petmanager/login"})}}))},G=(a(726),a(260)),V=(a(728),a(345)),Q=(a(773),a(136)),X=a(27),K=a(775);var Y=a(776),$=Object(j.c)(Object(d.h)((function(e){var t=Object(q.c)((function(e){return e.authentication.userInfo})),a=void 0!==t?t.name:"",o=Object(n.useState)(t),l=Object(O.a)(o,2),c=(l[0],l[1],Object(q.b)()),s=function(){e.cookies.remove("auth-token",{path:"/"}),c(function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT",state:void 0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());e.history.push("/petmanager/login")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{defaultSelectedKeys:["home"],style:{float:"left",width:"400px"},theme:"light",visible:!0,mode:"horizontal"},r.a.createElement(Q.a.Item,{key:"home"},r.a.createElement(X.b,{to:{pathname:"/home/petlist",state:{userInfo:e.userInfo}}},r.a.createElement(K.a,null),"Pet Manager Home")),r.a.createElement(Q.a.Item,{key:"admin"},r.a.createElement(V.a,{overlay:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{style:{padding:"8px 8px 8px 8px",borderRadius:"2px"}},r.a.createElement(Q.a.Item,{style:{fontSize:"16px"},onClick:function(){return s()}},"Logout")))},trigger:["click","hover"]},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"600",fontSize:"15px"}},a),r.a.createElement("div",{style:{float:"right"}}," ",r.a.createElement(Y.a,null)))))))}))),Z=(a(738),a(324),a(194)),ee=(a(772),a(261)),te=a(777),ae=(a(744),a(346)),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).renderErrorMessages=function(e){return(e=e.sort((function(e,t){return e.key.localeCompare(t.key)}))).map((function(e,t){return r.a.createElement("p",{style:{marginBottom:2}},t+1+") "+e.message)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.error;return r.a.createElement(ae.a,{showIcon:!0,style:{marginBottom:10},message:"An error occurred",type:"error",description:this.renderErrorMessages(e.errorMessage)})}}]),a}(n.Component),re=(a(748),a(749),a(348)),oe=Object(d.h)((function(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(e.details),s=Object(O.a)(l,2),i=s[0],u=s[1],m="doggo/";void 0===e.id&&null===e.id||(m+=e.id);var d=N("doggo/",null),p=Object(O.a)(d,2),j=p[0],v=p[1],y=N(m,null,T),x=Object(O.a)(y,2),I=x[0],S=x[1],k=Object(n.useState)(e.details),F=Object(O.a)(k,2),A=(F[0],F[1]),D=Object(n.useState)(!1),U=Object(O.a)(D,2),q=(U[0],U[1]),M=b.a.useForm(),H=Object(O.a)(M,1)[0];Object(n.useEffect)((function(){"Edit"===e.mode&&void 0===e.details&&(o(!0),S())}),[]),Object(n.useEffect)((function(){void 0!==i&&H.resetFields()}),[i]),Object(n.useEffect)((function(){o(!1),!I.data||I.error||I.isLoading||I.hasError?!I.error||I.data||I.isLoading||q(!0):(A(I.data.details),u(I.data.details))}),[I]),Object(n.useEffect)((function(){j.hasError||!0!==j.success||(L.a.success({message:"Edit"===e.mode?"Edit Dog Details":"Add New Dog",description:"Edit"===e.mode?"Details updated successfully!":"New dog added successully!"}),e.closeModal(!0))}),[j]);return n.createElement(n.Fragment,null,n.createElement(c.a,{spinning:r},n.createElement(b.a,{layout:"vertical",form:H,initialValues:i,onFinish:function(t){var a={details:t};"Edit"===e.mode&&(a.id=e.id),v(a,"Add"===e.mode?w:C)},onFinishFailed:function(e){var t=e.errorFields;H.scrollToField(t[0].name)}},n.createElement(g.a,{type:"flex",gutter:48},n.createElement(h.a,{span:12},n.createElement(b.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Name is required."}]},n.createElement(f.a,{type:"text",maxLength:250}))),n.createElement(h.a,{span:12},n.createElement(b.a.Item,{name:"breed",label:"Breed",rules:[{required:!0,message:"Breed is required"}]},n.createElement(f.a,{type:"text",maxLength:250})))),n.createElement(g.a,{type:"flex",gutter:48},n.createElement(h.a,{span:12},n.createElement(b.a.Item,{name:"age",label:"Age",rules:[{required:!0,message:"Age must be greater than 0 and is required"}]},n.createElement(re.a,{min:1,max:60}))),n.createElement(h.a,{span:12},n.createElement(b.a.Item,{name:"color",label:"Color",rules:[{required:!0,message:"Color is required"}]},n.createElement(f.a,{type:"text",maxLength:250})))),n.createElement(g.a,{type:"flex",gutter:48},n.createElement(h.a,{span:12},n.createElement(b.a.Item,{name:"height",label:"Height",rules:[{required:!0,message:"Height is required"}]},n.createElement(f.a,{type:"text",maxLength:250}))),n.createElement(h.a,{span:12},n.createElement(b.a.Item,{name:"weight",label:"Weight",rules:[{required:!0,message:"Weight is required"}]},n.createElement(f.a,{type:"text",maxLength:250})))),j.hasError?n.createElement(ne,{error:j.error}):null,n.createElement(g.a,{type:"flex",gutter:8,style:{marginTop:40}},n.createElement(h.a,{span:16}),n.createElement(h.a,{span:16}),n.createElement(h.a,{span:8,align:"right"},n.createElement("div",{style:{display:"inline-block"}},n.createElement(E.a,{type:"secondary",onClick:function(){return e.closeModal(!1)}},"Cancel"),n.createElement(E.a,{loading:j.isLoading,type:"primary",htmlType:"submit"},"Save")))))))})),le=Object(d.h)((function(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(O.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)("Add"),d=Object(O.a)(m,2),E=d[0],g=d[1],h=Object(n.useState)(0),f=Object(O.a)(h,2),b=f[0],j=f[1],v=Object(n.useState)("Add New Dog"),y=Object(O.a)(v,2),x=y[0],I=y[1],S=N("doggos-list",null,T),k=Object(O.a)(S,2),w=k[0],C=k[1],F=Object(n.useState)(null),A=Object(O.a)(F,2),L=A[0],D=A[1],U=Object(n.useState)(!1),q=Object(O.a)(U,2),M=q[0],H=q[1];Object(n.useEffect)((function(){null!==L||r||w.isLoading||!1!==w.hasError||(o(!0),C(null,T,"doggos-list"))})),Object(n.useEffect)((function(){o(!1),!w.data||w.error||w.isLoading||w.hasError?!w.error||w.data||w.isLoading||H(!0):D(w.data.doggos)}),[w]);var _=function(e){u(!1),e&&C(null,T,"doggos-list")};return n.createElement(n.Fragment,null,n.createElement(c.a,{spinning:r},n.createElement("h2",null,"Pets  \xa0 \xa0 \xa0 ",n.createElement(X.b,{onClick:function(){u(!0),g("Add"),I("Add New Dog")}}," ",n.createElement(te.a,null)," Add Dog")),L&&null!==L&&!1===r&&n.createElement(ee.b,{grid:{gutter:16,column:4},dataSource:L,renderItem:function(e){return n.createElement(ee.b.Item,null,n.createElement(p.a,{title:e.name,extra:n.createElement(n.Fragment,null,n.createElement(X.b,{to:"/home/petdetails/"+e.id}," View Detail"),n.createElement(X.b,{onClick:function(){!function(e){u(!0),g("Edit"),I("Edit Dog Details"),j(e.id)}(e)}}," Edit"))},n.createElement(n.Fragment,null,e.breed)))}}),i&&n.createElement(Z.a,{title:n.createElement("b",null,x),maskClosable:!1,visible:i,footer:null,style:{width:"100%"},onCancel:function(){return _(!1)}},n.createElement(oe,{closeModal:_,mode:E,id:b})),w.hasError&&M&&n.createElement(ne,{error:w.error})))})),ce=(a(757),a(112)),se=Object(d.h)((function(e){Object(d.g)();var t=Object(n.useState)(!1),a=Object(O.a)(t,2),r=a[0],o=a[1],l="doggo/";e.match&&e.match.params&&e.match.params.id&&(l+=e.match.params.id);var s=Object(n.useState)(!1),i=Object(O.a)(s,2),u=i[0],m=i[1],E=function(e){m(!1),e&&b(null,T,l)},g=N(l,null,T),h=Object(O.a)(g,2),f=h[0],b=h[1],j=Object(n.useState)(null),v=Object(O.a)(j,2),y=v[0],x=v[1],I=Object(n.useState)(!1),S=Object(O.a)(I,2),k=S[0],w=S[1];return Object(n.useEffect)((function(){null!==y||r||f.isLoading||!1!==f.hasError||(o(!0),b())})),Object(n.useEffect)((function(){o(!1),!f.data||f.error||f.isLoading||f.hasError?!f.error||f.data||f.isLoading||w(!0):x(f.data.details)}),[f]),n.createElement(n.Fragment,null,n.createElement(c.a,{spinning:r},y&&null!==y&&!1===r&&n.createElement(p.a,{title:y.name,extra:n.createElement(n.Fragment,null,n.createElement(X.b,{onClick:function(){m(!0)}}," Edit"))},n.createElement(n.Fragment,null,n.createElement(ce.a,null,n.createElement(ce.a.Item,{label:"Breed"},y.breed),n.createElement(ce.a.Item,{label:"Height"},y.height),n.createElement(ce.a.Item,{label:"Weight"},y.weight),n.createElement(ce.a.Item,{label:"Color"},y.color),n.createElement(ce.a.Item,{label:"Age"},y.age)))),u&&n.createElement(Z.a,{title:n.createElement("b",null,"Edit Dog Details"),maskClosable:!1,visible:u,footer:null,style:{width:"100%"},onCancel:function(){return E(!1)}},n.createElement(oe,{closeModal:E,id:e.match.params.id,mode:"Edit",details:y})),f.hasError&&k&&n.createElement(ne,{error:f.error})))})),ie=Object(j.c)(Object(d.h)((function(e){Object(q.c)((function(e){return e.authentication.userInfo})),p.a.Meta;var t=Object(d.g)(),a=Object(n.useState)(void 0===e.location.state?{}:e.location.state.userInfo),r=Object(O.a)(a,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){null===o||void 0===o&&(null===t.state||void 0===t.state)?(e.cookies.remove("auth-token",{path:"/"}),e.history.push("/petmanager/login")):(null===o||void 0===o&&null!==t.state&&void 0!==t.state)&&l(t.state.userInfo)})),n.createElement(n.Fragment,null,n.createElement(G.a,{className:"layout"},n.createElement("div",null,n.createElement("div",null,n.createElement(g.a,null,n.createElement(h.a,{span:12,style:{padding:"12px"}},n.createElement("h2",null,"Welcome ",null!==o&&void 0!==o?o.name:"")),n.createElement(h.a,{span:12},n.createElement("div",{style:{float:"right"}},n.createElement($,{mode:"horizontal",show:!0,userInfo:o})))))),n.createElement(G.a,null,n.createElement("div",{style:{minHeight:280,margin:"25px"}},n.createElement(d.d,null,n.createElement(d.b,{exact:!0,path:"/",user:o,component:le}),n.createElement(d.b,{path:"/home/petlist",user:o,component:le}),n.createElement(d.b,{path:"/home/petdetails/:id",user:o,component:se}))))))}))),ue=(a(759),a(778)),me=r.a.createElement(ue.a,{style:{fontSize:24},spin:!0});var de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){c.a.setDefaultIndicator(me);var e=this.props.cookies.get("auth-token");e&&e.length>1&&this.props.location.pathname.includes("petmanager/login")&&this.props.history.push("/home/petlist")}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"auto"}},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/petmanager",component:R}),r.a.createElement(J,{path:"/home",props:{authToken:(e=this.props,void 0===e.userInfo?e.cookies.get("auth-token"):void 0!==e.userInfo.token&&e.userInfo.token.accessToken.length>1?e.userInfo.token.accessToken:e.cookies.get("auth-token"))},component:ie}),r.a.createElement(d.b,{path:"/error",component:Error})));var e}}]),a}(n.Component),pe=Object(j.c)(de);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=a(92),ge={clientConfig:{clientInfo:{},clientData:{}},userInfo:{}};var he=Object(Ee.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge.userInfo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE_SUCCESS":return Object.assign({},e,{userInfo:t.userInfo});case"AUTHENTICATE_FAILURE":return Object.assign({},e,{userInfo:t.userFailure,isAuthenticated:!1});default:return e}}}),fe=function(e,t,a){"LOGOUT"===t.type&&(e=Object.assign({},ge,{}));return he(e,t,a)},be=a(343);a(760),a(761);var Oe=a(344),je=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d;return Object(Ee.e)(fe,e,t(Object(Ee.a)(be.a)))}();l.a.render(r.a.createElement(j.a,null,r.a.createElement(q.a,{store:je},r.a.createElement(Oe.ThroughProvider,null,r.a.createElement(X.a,{basename:"/doggoportal"},r.a.createElement(d.b,{path:"/",component:pe}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[351,1,2]]]);